var P=Object.defineProperty,U=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var L=(t,n,r)=>n in t?P(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,m=(t,n)=>{for(var r in n||(n={}))R.call(n,r)&&L(t,r,n[r]);if(b)for(var r of b(n))H.call(n,r)&&L(t,r,n[r]);return t},w=(t,n)=>U(t,O(n));import{R as e,r as c,L as E,T as d,N as A,a as B,E as u,B as y,b as I,P as N,l as f,c as T,H as x,d as M,e as s,A as z,f as p,g as S,u as V,h as F,I as $,i as q,G,j as Q,s as _,k as j,m as D,n as v,o as J,p as K,q as Z}from"./vendor.1e8ca65f.js";const X=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};X();const g=e.createContext({value:"http://localhost:8010/proxy",setValue:t=>{}});function Y(){const{value:t,setValue:n}=c.exports.useContext(g);return e.createElement(e.Fragment,null,e.createElement(E,{size:E.sizes.xSmall,style:{marginRight:"8px",marginLeft:"8px"}},"Redirect URL:"),e.createElement(d,{appearance:d.appearances.subtle,placeholder:"http://localhost:8010/proxy",size:d.sizes.small,defaultValue:t,onBlur:r=>{n(r.target.value)}}))}const C=e.createContext({value:"https://webhook-store.herokuapp.com",setValue:t=>{}});function ee(){const{value:t,setValue:n}=c.exports.useContext(C);return e.createElement(e.Fragment,null,e.createElement(E,{size:E.sizes.xSmall,style:{marginRight:"8px",marginLeft:"8px"}},"Webhook Store URL:"),e.createElement(d,{appearance:d.appearances.subtle,placeholder:"webhook-store.herokuapp.com",size:d.sizes.small,defaultValue:t,onBlur:r=>{n(r.target.value)}}))}function te(){return e.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 32"},e.createElement("defs",null,e.createElement("linearGradient",{id:"skills-gradient",x1:"45.6377",y1:"47.4727",x2:"-32.2436",y2:"-35.2537",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{offset:"0.03",stopColor:"#23F0C7"}),e.createElement("stop",{offset:"0.93",stopColor:"#5C8001"}))),e.createElement("path",{d:`
          M 0 0 V 32 H 32 V 0 H 0 Z M 6 10 L 12 10 L 9 15 Z M 0 10 L 4 10 L 9 18 L 14 10 L 18 10 L 23 18 L 28 10 L 32 10 L 23 24 L 16 13 L 9 24 Z M 20 10 L 26 10 L 23 15 L 20 10 M 16 19 L 19 24 L 13 24 L 16 19
          `,fill:"url(#skills-gradient)"}))}function re(t){return e.createElement(B,w(m({},t),{logo:e.createElement(te,null),wordmark:"Open Webhook"}))}function ne(){return e.createElement("div",null,e.createElement(A,{brand:e.createElement(re,null),items:[e.createElement(ee,{key:"WebhookStoreUrlInput"}),e.createElement(Y,{key:"RedirectUrlInput"})]}))}const ae=()=>e.createElement(u,{style:{height:"100vh"},heading:e.createElement(u.Heading,null,"Alohamora wand elf parchment"),caption:e.createElement(u.Caption,null,"Hedwig Daily Prophet treacle tart full-moon Ollivanders You-Know-Who cursed. Fawkes maze raw-steak Voldemort Goblin Wars snitch Forbidden forest grindylows wool socks."),illustration:e.createElement(u.Illustration,{name:u.Illustration.names.magnify}),actions:e.createElement(u.Actions,null,e.createElement(y,{appearance:y.appearances.stroke},"Do a Thing"))}),le=async(t,n)=>{const r={method:"POST",url:`${t}/${n.path}`,data:JSON.parse(n.body)};I.request(r).then(function(l){console.log(l.data)}).catch(function(l){console.error(l)})},oe=({webhook:t,forwardWebhookToLocalhost:n})=>e.createElement(N,{key:"PageWidthLayout",style:{padding:`0 ${f.spacingXSmall}`}},e.createElement(T,{key:"PageHeadingLayout",style:{padding:`${f.spacingXSmall} 0`},actions:[e.createElement(y,{key:"forwardWebhookToLocalhost",onClick:()=>{n(t)}},"Button")],heading:e.createElement(x,{size:x.sizes.xSmall},e.createElement("h2",null,t.path))},e.createElement("div",{className:"outline"},Object.keys(JSON.parse(t.body)).map(function(r,l){return e.createElement(M,{key:`webhookElement${l}`},r,": ",typeof JSON.parse(t.body)[r])})))),h={width:500,maxWidth:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},se=t=>e.createElement("div",m({style:{display:"flex",alignItems:"center"}},t)),ce=t=>e.createElement("div",m({style:{display:"inline-block",width:f.spacingSmall}},t)),ie=({webhooks:t,setSelectedRow:n})=>e.createElement(s,{scrollable:!0},e.createElement(s.Head,null,e.createElement(s.Row,null,e.createElement(s.Header,{role:"columnheader",scope:"col",sticky:!0},"Id"),e.createElement(s.Header,{role:"columnheader",scope:"col",sticky:!0},"Path"),e.createElement(s.Header,{style:h,role:"columnheader",scope:"col",sticky:!0},"Body"),e.createElement(s.Header,{style:h,role:"columnheader",scope:"col",sticky:!0},"Headers"))),e.createElement(s.Body,null,t&&t.map((r,l)=>e.createElement(s.Row,{key:l,onClick:()=>{n(l)}},e.createElement(s.Header,{role:"rowheader",scope:"row"},e.createElement(se,null,e.createElement(z,{alt:"avatar",name:`${r.id}`,size:"xSmall"}),e.createElement(ce,null),e.createElement("span",null,r.id))),e.createElement(s.Cell,null,r.path),e.createElement(s.Cell,{style:h},r.body),e.createElement(s.Cell,{style:h},r.headers))))),ue=({webhooks:t})=>{const{value:n}=c.exports.useContext(g),r=o=>le(n,o),[l,a]=c.exports.useState(0);return e.createElement(p,{aside:e.createElement(p.Aside,null,e.createElement(oe,{webhook:t[l],forwardWebhookToLocalhost:r})),asidePosition:p.asidePositions.last,main:e.createElement(p.Main,null,e.createElement("div",{style:{height:"calc(100vh - 48px)"}},e.createElement(ie,{webhooks:t,setSelectedRow:a})))})},de=S`
  query Webhooks {
    webhooks {
      id
      path
      body
      headers
    }
  }
`,me=S`
  subscription WebhookAdded {
    webhookAdded {
      id
      path
      body
      headers
    }
  }
`,pe=()=>{const{data:t,subscribeToMore:n}=V(de);c.exports.useEffect(()=>{const l=n({document:me,updateQuery:(a,{subscriptionData:o})=>{if(!o.data)return a;const i=o.data.webhookAdded;return Object.assign({},a,{webhooks:[i,...a.webhooks]})}});return()=>{l()}},[]);const r=c.exports.useMemo(()=>{var l;return(l=t==null?void 0:t.webhooks)==null?void 0:l.slice().sort((a,o)=>Number(o.id)-Number(a.id))},[t]);return r&&r.length>0?e.createElement(ue,{webhooks:r}):e.createElement(ae,null)},he=t=>{const r=`${new URL(t).origin}/graphql`,l=r.replace("http","ws"),a=new q({uri:r}),o=new G(Q({url:l})),i=_(({query:W})=>{const k=j(W);return k.kind==="OperationDefinition"&&k.operation==="subscription"},o,a);return new F({link:i,cache:new $})};function Ee(){const[t,n]=c.exports.useState("http://localhost:8010/proxy"),[r,l]=c.exports.useState("https://webhook-store.herokuapp.com");return e.createElement(C.Provider,{value:{value:r,setValue:l}},e.createElement(D,{client:he(r)},e.createElement(v,{name:v.names.dark},e.createElement(g.Provider,{value:{value:t,setValue:n}},e.createElement(J,{topnav:()=>e.createElement(ne,null)},e.createElement("div",{style:{background:K}},e.createElement(pe,null)))))))}const ye=Z.createRoot(document.getElementById("root"));ye.render(e.createElement(e.StrictMode,null,e.createElement(Ee,null)));
