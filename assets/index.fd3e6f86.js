import{R as r,H as y,s as E,G as S,c as L,a as _,g as v,A as T,I,r as g,B as d,b as R,T as f,d as w,e as U,f as A}from"./vendor.89716939.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const a of e.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function l(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();const C="modulepreload",O=function(n){return"/"+n},k={},m=function(o,s,l){if(!s||s.length===0)return o();const t=document.getElementsByTagName("link");return Promise.all(s.map(e=>{if(e=O(e),e in k)return;k[e]=!0;const a=e.endsWith(".css"),u=a?'[rel="stylesheet"]':"";if(!!l)for(let c=t.length-1;c>=0;c--){const h=t[c];if(h.href===e&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${u}`))return;const i=document.createElement("link");if(i.rel=a?"stylesheet":C,a||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),a)return new Promise((c,h)=>{i.addEventListener("load",c),i.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${e}`)))})})).then(()=>o())};const W=r.createContext({value:"https://webhook-store.herokuapp.com",setValue:n=>{}}),P="identityToken",b="accessToken",x=n=>{const s=`${new URL(n).origin}/graphql`,l=s.replace("http","ws"),t=new y({uri:s}),e=E(async(p,{headers:i})=>{var c=localStorage.getItem(b);if(!c){const h=localStorage.getItem(P);h&&(c=await N(h,n))}return{headers:{...i,authorization:c?`Bearer ${c}`:""}}}),a=new S(L({url:l})),u=_(({query:p})=>{const i=v(p);return i.kind==="OperationDefinition"&&i.operation==="subscription"},a,e.concat(t));return new T({link:u,cache:new I})},N=async(n,o)=>{const s=new URL(o).hostname,e=(await(await fetch("https://openwebhook-auth.herokuapp.com/webhook-store-auth/access-token",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({webhookStoreUrl:s})})).json()).accessToken;return localStorage.setItem(b,e),e},$=(n,o,s)=>{const l=localStorage.getItem(n)||o,[t,e]=g.exports.useState(l);return[t,u=>{s(u)?(localStorage.setItem(n,u),e(u)):console.warn("invalid new value, not stored"),d.capture(`${n} update attempt`,{value:u})}]};function q(n){let o;try{o=new URL(n)}catch{return!1}return o.protocol==="http:"||o.protocol==="https:"}const B=r.lazy(()=>m(()=>import("./index.0f6c51d3.js"),["assets/index.0f6c51d3.js","assets/index.a747afcd.js","assets/vendor.89716939.js","assets/index.7eb7bce9.css","assets/index.f5571c63.js","assets/index.6e947b39.css","assets/index.447dfe89.css"])),D=r.lazy(()=>m(()=>import("./TopNav.9fc29189.js"),["assets/TopNav.9fc29189.js","assets/vendor.89716939.js","assets/animation-container.e13243e1.js","assets/index.a747afcd.js","assets/index.7eb7bce9.css","assets/animation-container.7a60cc3d.css","assets/TopNav.01e7a08e.css"])),F=r.lazy(()=>m(()=>import("./WebhookList.component.79098f0b.js"),["assets/WebhookList.component.79098f0b.js","assets/vendor.89716939.js","assets/animation-container.e13243e1.js","assets/index.a747afcd.js","assets/index.7eb7bce9.css","assets/animation-container.7a60cc3d.css","assets/index.f5571c63.js","assets/index.6e947b39.css","assets/WebhookList.component.d122b9a5.css"]));function H(){const n=window.location.hostname==="demo.openwebhook.io"?"https://webhook-store.herokuapp.com":window.location.origin,[o,s]=$("webhookStoreUrl",n,q);return r.createElement(W.Provider,{value:{value:o,setValue:s}},r.createElement(R,{client:x(o)},r.createElement(f,{name:f.names.dark},r.createElement(g.exports.Suspense,{fallback:r.createElement("div",null,"Loading...")},r.createElement(B,{topnav:r.createElement(D,null)},r.createElement(F,null))))))}const V=window.location.hostname==="github.webhook.store";V&&(window.location.href="https://openwebhook-auth.herokuapp.com/oauth/login");w.configure({apiKey:"hbp_5dLUqCorpak7oThEbZ6GpdY4q7eGqC0v21xN",environment:"production"});d.init("phc_gaWo4JFok5X2n792nFxFstwZDJS9b2Wtt9jFTmEMV0Z",{api_host:"https://app.posthog.com"});d.capture("my event",{property:"value"});const j=U.createRoot(document.getElementById("root"));j.render(r.createElement(A,{honeybadger:w},r.createElement(r.StrictMode,null,r.createElement(H,null))));export{b as A,P as I,W,m as _};
//# sourceMappingURL=index.fd3e6f86.js.map
