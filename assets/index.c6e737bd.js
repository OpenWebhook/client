var R=Object.defineProperty,P=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var S=(t,n,r)=>n in t?R(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,m=(t,n)=>{for(var r in n||(n={}))A.call(n,r)&&S(t,r,n[r]);if(L)for(var r of L(n))H.call(n,r)&&S(t,r,n[r]);return t},v=(t,n)=>P(t,O(n));import{u as B,R as e,N,B as E,r as i,L as g,T as d,a as z,b as M,E as u,c as V,P as T,l as f,d as F,H as w,e as y,f as s,A as q,g as p,h as U,i as $,j as D,I as G,k as J,G as K,m as Q,s as _,n as j,o as Z,p as X,q as x,t as Y,v as ee,w as te}from"./vendor.d13e32fd.js";const re=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}};re();const ne=()=>{const{loginWithRedirect:t,user:n,isAuthenticated:r}=B();return r&&n?e.createElement(N,{name:n.email,meta:n.name,src:n.picture}):e.createElement(E,{onClick:()=>t()},"Log In")},k=e.createContext({value:"http://localhost:8010/proxy",setValue:t=>{}});function ae(){const{value:t,setValue:n}=i.exports.useContext(k);return e.createElement(e.Fragment,null,e.createElement(g,{size:g.sizes.xSmall,style:{marginRight:"8px",marginLeft:"8px"}},"Redirect URL:"),e.createElement(d,{appearance:d.appearances.subtle,placeholder:"http://localhost:8010/proxy",size:d.sizes.small,defaultValue:t,onBlur:r=>{n(r.target.value)}}))}const C=e.createContext({value:"https://webhook-store.herokuapp.com",setValue:t=>{}});function oe(){const{value:t,setValue:n}=i.exports.useContext(C);return e.createElement(e.Fragment,null,e.createElement(g,{size:g.sizes.xSmall,style:{marginRight:"8px",marginLeft:"8px"}},"Webhook Store URL:"),e.createElement(d,{appearance:d.appearances.subtle,placeholder:"webhook-store.herokuapp.com",size:d.sizes.small,defaultValue:t,onBlur:r=>{n(r.target.value)}}))}function le(){return e.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 32"},e.createElement("defs",null,e.createElement("linearGradient",{id:"skills-gradient",x1:"45.6377",y1:"47.4727",x2:"-32.2436",y2:"-35.2537",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{offset:"0.03",stopColor:"#23F0C7"}),e.createElement("stop",{offset:"0.93",stopColor:"#5C8001"}))),e.createElement("path",{d:`
          M 0 0 V 32 H 32 V 0 H 0 Z M 6 10 L 12 10 L 9 15 Z M 0 10 L 4 10 L 9 18 L 14 10 L 18 10 L 23 18 L 28 10 L 32 10 L 23 24 L 16 13 L 9 24 Z M 20 10 L 26 10 L 23 15 L 20 10 M 16 19 L 19 24 L 13 24 L 16 19
          `,fill:"url(#skills-gradient)"}))}function se(t){return e.createElement(M,v(m({},t),{logo:e.createElement(le,null),wordmark:"Open Webhook"}))}function ce(){return e.createElement("div",null,e.createElement(z,{brand:e.createElement(se,null),items:[e.createElement(oe,{key:"WebhookStoreUrlInput"}),e.createElement(ae,{key:"RedirectUrlInput"})],user:e.createElement(ne,null)}))}const ie=()=>e.createElement(u,{style:{height:"calc(100vh - 48px)"},heading:e.createElement(u.Heading,null,"Alohamora wand elf parchment"),caption:e.createElement(u.Caption,null,"Hedwig Daily Prophet treacle tart full-moon Ollivanders You-Know-Who cursed. Fawkes maze raw-steak Voldemort Goblin Wars snitch Forbidden forest grindylows wool socks."),illustration:e.createElement(u.Illustration,{name:u.Illustration.names.magnify}),actions:e.createElement(u.Actions,null,e.createElement(E,{appearance:E.appearances.stroke},"Do a Thing"))}),ue=async(t,n,r)=>{const l={method:"POST",url:`${t}/${n.path}`,data:JSON.parse(n.body)};V.request(l).then(function(a){r({code:a.status}),console.log(a.data)}).catch(function(a){r({code:500,error:a.toString()}),console.error(a)})},de=({webhook:t})=>{const{value:n}=i.exports.useContext(k),[r,l]=i.exports.useState({code:void 0,error:void 0});return e.createElement(T,{key:"PageWidthLayout",style:{padding:`0 ${f.spacingXSmall}`}},e.createElement(F,{key:"PageHeadingLayout",style:{padding:`${f.spacingXSmall} 0`},actions:[],heading:e.createElement(w,{size:w.sizes.xSmall},e.createElement("h2",null,t.path))},e.createElement(E,{key:"forwardWebhookToLocalhost",onClick:()=>{ue(n,t,l)}},"Send"),e.createElement(y,null,r.code),e.createElement(y,null,r.error),e.createElement("div",{className:"outline"},Object.keys(JSON.parse(t.body)).map(function(a,o){return e.createElement(y,{key:`webhookElement${o}`},a,": ",typeof JSON.parse(t.body)[a])}))))},h={width:500,maxWidth:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},me=t=>e.createElement("div",m({style:{display:"flex",alignItems:"center"}},t)),pe=t=>e.createElement("div",m({style:{display:"inline-block",width:f.spacingSmall}},t)),he=({webhooks:t,setSelectedRow:n})=>e.createElement(s,{scrollable:!0},e.createElement(s.Head,null,e.createElement(s.Row,null,e.createElement(s.Header,{role:"columnheader",scope:"col",sticky:!0},"Id"),e.createElement(s.Header,{role:"columnheader",scope:"col",sticky:!0},"Path"),e.createElement(s.Header,{style:h,role:"columnheader",scope:"col",sticky:!0},"Body"),e.createElement(s.Header,{style:h,role:"columnheader",scope:"col",sticky:!0},"Headers"))),e.createElement(s.Body,null,t&&t.map((r,l)=>e.createElement(s.Row,{key:l,onClick:()=>{n(l)}},e.createElement(s.Header,{role:"rowheader",scope:"row"},e.createElement(me,null,e.createElement(q,{alt:"avatar",name:`${r.id}`,size:"xSmall"}),e.createElement(pe,null),e.createElement("span",null,r.id))),e.createElement(s.Cell,null,r.path),e.createElement(s.Cell,{style:h},r.body),e.createElement(s.Cell,{style:h},r.headers))))),Ee=({webhooks:t})=>{const[n,r]=i.exports.useState(0);return e.createElement(p,{aside:e.createElement(p.Aside,null,e.createElement(de,{webhook:t[n]})),asidePosition:p.asidePositions.last,main:e.createElement(p.Main,null,e.createElement("div",{style:{height:"calc(100vh - 48px)"}},e.createElement(he,{webhooks:t,setSelectedRow:r})))})},ge=U`
  query Webhooks {
    webhooks {
      id
      path
      body
      headers
    }
  }
`,ye=U`
  subscription WebhookAdded {
    webhookAdded {
      id
      path
      body
      headers
    }
  }
`,fe=()=>{const{data:t,subscribeToMore:n}=$(ge);i.exports.useEffect(()=>{const l=n({document:ye,updateQuery:(a,{subscriptionData:o})=>{if(!o.data)return a;const c=o.data.webhookAdded;return Object.assign({},a,{webhooks:[c,...a.webhooks]})}});return()=>{l()}},[]);const r=i.exports.useMemo(()=>{var l;return(l=t==null?void 0:t.webhooks)==null?void 0:l.slice().sort((a,o)=>Number(o.id)-Number(a.id))},[t]);return r&&r.length>0?e.createElement(Ee,{webhooks:r}):e.createElement(ie,null)},ke=t=>{const r=`${new URL(t).origin}/graphql`,l=r.replace("http","ws"),a=new J({uri:r}),o=new K(Q({url:l})),c=_(({query:I})=>{const b=j(I);return b.kind==="OperationDefinition"&&b.operation==="subscription"},o,a);return new D({link:c,cache:new G})},W=(t,n)=>{const r=localStorage.getItem(t)||n,[l,a]=i.exports.useState(r);return[l,c=>{localStorage.setItem(t,c),a(c)}]};function be(){const[t,n]=W("redirectUrl","http://localhost:8010/proxy"),[r,l]=W("webhookStoreUrl","https://webhook-store.herokuapp.com");return e.createElement(Z,{domain:"sammyt.eu.auth0.com",clientId:"paWK0IJDaDkB24vqfDBiyPsWfoVzF3GK",redirectUri:window.location.origin},e.createElement(C.Provider,{value:{value:r,setValue:l}},e.createElement(X,{client:ke(r)},e.createElement(x,{name:x.names.dark},e.createElement(k.Provider,{value:{value:t,setValue:n}},e.createElement(Y,{topnav:()=>e.createElement(ce,null)},e.createElement("div",{style:{background:ee}},e.createElement(fe,null))))))))}const Le=te.createRoot(document.getElementById("root"));Le.render(e.createElement(e.StrictMode,null,e.createElement(be,null)));
