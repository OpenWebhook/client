var P=Object.defineProperty,R=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var L=(t,o,r)=>o in t?P(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r,m=(t,o)=>{for(var r in o||(o={}))H.call(o,r)&&L(t,r,o[r]);if(b)for(var r of b(o))I.call(o,r)&&L(t,r,o[r]);return t},w=(t,o)=>R(t,O(o));import{R as e,r as i,L as E,T as d,N as A,a as B,E as u,B as y,b as N,P as T,l as g,c as M,H as S,d as z,e as s,A as V,f as p,g as v,u as F,h as $,I as q,i as G,j as Q,G as _,s as j,k as D,m as J,n as x,o as K,p as Z,q as X}from"./vendor.1e8ca65f.js";const Y=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}};Y();const f=e.createContext({value:"http://localhost:8010/proxy",setValue:t=>{}});function ee(){const{value:t,setValue:o}=i.exports.useContext(f);return e.createElement(e.Fragment,null,e.createElement(E,{size:E.sizes.xSmall,style:{marginRight:"8px",marginLeft:"8px"}},"Redirect URL:"),e.createElement(d,{appearance:d.appearances.subtle,placeholder:"http://localhost:8010/proxy",size:d.sizes.small,defaultValue:t,onBlur:r=>{o(r.target.value)}}))}const C=e.createContext({value:"https://webhook-store.herokuapp.com",setValue:t=>{}});function te(){const{value:t,setValue:o}=i.exports.useContext(C);return e.createElement(e.Fragment,null,e.createElement(E,{size:E.sizes.xSmall,style:{marginRight:"8px",marginLeft:"8px"}},"Webhook Store URL:"),e.createElement(d,{appearance:d.appearances.subtle,placeholder:"webhook-store.herokuapp.com",size:d.sizes.small,defaultValue:t,onBlur:r=>{o(r.target.value)}}))}function re(){return e.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 32"},e.createElement("defs",null,e.createElement("linearGradient",{id:"skills-gradient",x1:"45.6377",y1:"47.4727",x2:"-32.2436",y2:"-35.2537",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{offset:"0.03",stopColor:"#23F0C7"}),e.createElement("stop",{offset:"0.93",stopColor:"#5C8001"}))),e.createElement("path",{d:`
          M 0 0 V 32 H 32 V 0 H 0 Z M 6 10 L 12 10 L 9 15 Z M 0 10 L 4 10 L 9 18 L 14 10 L 18 10 L 23 18 L 28 10 L 32 10 L 23 24 L 16 13 L 9 24 Z M 20 10 L 26 10 L 23 15 L 20 10 M 16 19 L 19 24 L 13 24 L 16 19
          `,fill:"url(#skills-gradient)"}))}function oe(t){return e.createElement(B,w(m({},t),{logo:e.createElement(re,null),wordmark:"Open Webhook"}))}function ne(){return e.createElement("div",null,e.createElement(A,{brand:e.createElement(oe,null),items:[e.createElement(te,{key:"WebhookStoreUrlInput"}),e.createElement(ee,{key:"RedirectUrlInput"})]}))}const ae=()=>e.createElement(u,{style:{height:"100vh"},heading:e.createElement(u.Heading,null,"Alohamora wand elf parchment"),caption:e.createElement(u.Caption,null,"Hedwig Daily Prophet treacle tart full-moon Ollivanders You-Know-Who cursed. Fawkes maze raw-steak Voldemort Goblin Wars snitch Forbidden forest grindylows wool socks."),illustration:e.createElement(u.Illustration,{name:u.Illustration.names.magnify}),actions:e.createElement(u.Actions,null,e.createElement(y,{appearance:y.appearances.stroke},"Do a Thing"))}),le=async(t,o)=>{const r={method:"POST",url:`${t}/${o.path}`,data:JSON.parse(o.body)};N.request(r).then(function(a){console.log(a.data)}).catch(function(a){console.error(a)})},se=({webhook:t,forwardWebhookToLocalhost:o})=>e.createElement(T,{key:"PageWidthLayout",style:{padding:`0 ${g.spacingXSmall}`}},e.createElement(M,{key:"PageHeadingLayout",style:{padding:`${g.spacingXSmall} 0`},actions:[e.createElement(y,{key:"forwardWebhookToLocalhost",onClick:()=>{o(t)}},"Button")],heading:e.createElement(S,{size:S.sizes.xSmall},e.createElement("h2",null,t.path))},e.createElement("div",{className:"outline"},Object.keys(JSON.parse(t.body)).map(function(r,a){return e.createElement(z,{key:`webhookElement${a}`},r,": ",typeof JSON.parse(t.body)[r])})))),h={width:500,maxWidth:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},ce=t=>e.createElement("div",m({style:{display:"flex",alignItems:"center"}},t)),ie=t=>e.createElement("div",m({style:{display:"inline-block",width:g.spacingSmall}},t)),ue=({webhooks:t,setSelectedRow:o})=>e.createElement(s,{scrollable:!0},e.createElement(s.Head,null,e.createElement(s.Row,null,e.createElement(s.Header,{role:"columnheader",scope:"col",sticky:!0},"Id"),e.createElement(s.Header,{role:"columnheader",scope:"col",sticky:!0},"Path"),e.createElement(s.Header,{style:h,role:"columnheader",scope:"col",sticky:!0},"Body"),e.createElement(s.Header,{style:h,role:"columnheader",scope:"col",sticky:!0},"Headers"))),e.createElement(s.Body,null,t&&t.map((r,a)=>e.createElement(s.Row,{key:a,onClick:()=>{o(a)}},e.createElement(s.Header,{role:"rowheader",scope:"row"},e.createElement(ce,null,e.createElement(V,{alt:"avatar",name:`${r.id}`,size:"xSmall"}),e.createElement(ie,null),e.createElement("span",null,r.id))),e.createElement(s.Cell,null,r.path),e.createElement(s.Cell,{style:h},r.body),e.createElement(s.Cell,{style:h},r.headers))))),de=({webhooks:t})=>{const{value:o}=i.exports.useContext(f),r=l=>le(o,l),[a,n]=i.exports.useState(0);return e.createElement(p,{aside:e.createElement(p.Aside,null,e.createElement(se,{webhook:t[a],forwardWebhookToLocalhost:r})),asidePosition:p.asidePositions.last,main:e.createElement(p.Main,null,e.createElement("div",{style:{height:"calc(100vh - 48px)"}},e.createElement(ue,{webhooks:t,setSelectedRow:n})))})},me=v`
  query Webhooks {
    webhooks {
      id
      path
      body
      headers
    }
  }
`,pe=v`
  subscription WebhookAdded {
    webhookAdded {
      id
      path
      body
      headers
    }
  }
`,he=()=>{const{data:t,subscribeToMore:o}=F(me);i.exports.useEffect(()=>{const a=o({document:pe,updateQuery:(n,{subscriptionData:l})=>{if(!l.data)return n;const c=l.data.webhookAdded;return Object.assign({},n,{webhooks:[c,...n.webhooks]})}});return()=>{a()}},[]);const r=i.exports.useMemo(()=>{var a;return(a=t==null?void 0:t.webhooks)==null?void 0:a.slice().sort((n,l)=>Number(l.id)-Number(n.id))},[t]);return r&&r.length>0?e.createElement(de,{webhooks:r}):e.createElement(ae,null)},Ee=t=>{const r=`${new URL(t).origin}/graphql`,a=r.replace("http","ws"),n=new G({uri:r}),l=Q({url:a}),c=new _(l),W=j(({query:U})=>{const k=D(U);return k.kind==="OperationDefinition"&&k.operation==="subscription"},c,n);return new $({link:W,cache:new q})};function ye(){const[t,o]=i.exports.useState("http://localhost:8010/proxy"),r=localStorage.getItem("webhookStoreUrl")||"https://webhook-store.herokuapp.com",[a,n]=i.exports.useState(r),l=c=>{localStorage.setItem("webhookStoreUrl",c),n(c)};return e.createElement(C.Provider,{value:{value:a,setValue:l}},e.createElement(J,{client:Ee(a)},e.createElement(x,{name:x.names.dark},e.createElement(f.Provider,{value:{value:t,setValue:o}},e.createElement(K,{topnav:()=>e.createElement(ne,null)},e.createElement("div",{style:{background:Z}},e.createElement(he,null)))))))}const ge=X.createRoot(document.getElementById("root"));ge.render(e.createElement(e.StrictMode,null,e.createElement(ye,null)));
