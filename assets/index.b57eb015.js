var U=Object.defineProperty,P=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var L=(t,o,r)=>o in t?U(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r,m=(t,o)=>{for(var r in o||(o={}))O.call(o,r)&&L(t,r,o[r]);if(b)for(var r of b(o))H.call(o,r)&&L(t,r,o[r]);return t},S=(t,o)=>P(t,R(o));import{R as e,r as i,L as E,T as d,N as I,a as A,E as u,B as y,b as B,P as N,l as g,c as T,H as w,d as M,e as s,A as z,f as p,g as v,u as V,h as F,I as $,i as q,G,j as Q,s as _,k as j,m as D,n as x,o as J,p as K,q as Z}from"./vendor.1e8ca65f.js";const X=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}};X();const f=e.createContext({value:"http://localhost:8010/proxy",setValue:t=>{}});function Y(){const{value:t,setValue:o}=i.exports.useContext(f);return e.createElement(e.Fragment,null,e.createElement(E,{size:E.sizes.xSmall,style:{marginRight:"8px",marginLeft:"8px"}},"Redirect URL:"),e.createElement(d,{appearance:d.appearances.subtle,placeholder:"http://localhost:8010/proxy",size:d.sizes.small,defaultValue:t,onBlur:r=>{o(r.target.value)}}))}const W=e.createContext({value:"https://webhook-store.herokuapp.com",setValue:t=>{}});function ee(){const{value:t,setValue:o}=i.exports.useContext(W);return e.createElement(e.Fragment,null,e.createElement(E,{size:E.sizes.xSmall,style:{marginRight:"8px",marginLeft:"8px"}},"Webhook Store URL:"),e.createElement(d,{appearance:d.appearances.subtle,placeholder:"webhook-store.herokuapp.com",size:d.sizes.small,defaultValue:t,onBlur:r=>{o(r.target.value)}}))}function te(){return e.createElement("svg",{"aria-hidden":!0,viewBox:"0 0 32 32"},e.createElement("defs",null,e.createElement("linearGradient",{id:"skills-gradient",x1:"45.6377",y1:"47.4727",x2:"-32.2436",y2:"-35.2537",gradientUnits:"userSpaceOnUse"},e.createElement("stop",{offset:"0.03",stopColor:"#23F0C7"}),e.createElement("stop",{offset:"0.93",stopColor:"#5C8001"}))),e.createElement("path",{d:`
          M 0 0 V 32 H 32 V 0 H 0 Z M 6 10 L 12 10 L 9 15 Z M 0 10 L 4 10 L 9 18 L 14 10 L 18 10 L 23 18 L 28 10 L 32 10 L 23 24 L 16 13 L 9 24 Z M 20 10 L 26 10 L 23 15 L 20 10 M 16 19 L 19 24 L 13 24 L 16 19
          `,fill:"url(#skills-gradient)"}))}function re(t){return e.createElement(A,S(m({},t),{logo:e.createElement(te,null),wordmark:"Open Webhook"}))}function oe(){return e.createElement("div",null,e.createElement(I,{brand:e.createElement(re,null),items:[e.createElement(ee,{key:"WebhookStoreUrlInput"}),e.createElement(Y,{key:"RedirectUrlInput"})]}))}const ae=()=>e.createElement(u,{style:{height:"100vh"},heading:e.createElement(u.Heading,null,"Alohamora wand elf parchment"),caption:e.createElement(u.Caption,null,"Hedwig Daily Prophet treacle tart full-moon Ollivanders You-Know-Who cursed. Fawkes maze raw-steak Voldemort Goblin Wars snitch Forbidden forest grindylows wool socks."),illustration:e.createElement(u.Illustration,{name:u.Illustration.names.magnify}),actions:e.createElement(u.Actions,null,e.createElement(y,{appearance:y.appearances.stroke},"Do a Thing"))}),ne=async(t,o)=>{const r={method:"POST",url:`${t}/${o.path}`,data:JSON.parse(o.body)};B.request(r).then(function(n){console.log(n.data)}).catch(function(n){console.error(n)})},le=({webhook:t,forwardWebhookToLocalhost:o})=>e.createElement(N,{key:"PageWidthLayout",style:{padding:`0 ${g.spacingXSmall}`}},e.createElement(T,{key:"PageHeadingLayout",style:{padding:`${g.spacingXSmall} 0`},actions:[e.createElement(y,{key:"forwardWebhookToLocalhost",onClick:()=>{o(t)}},"Button")],heading:e.createElement(w,{size:w.sizes.xSmall},e.createElement("h2",null,t.path))},e.createElement("div",{className:"outline"},Object.keys(JSON.parse(t.body)).map(function(r,n){return e.createElement(M,{key:`webhookElement${n}`},r,": ",typeof JSON.parse(t.body)[r])})))),h={width:500,maxWidth:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},se=t=>e.createElement("div",m({style:{display:"flex",alignItems:"center"}},t)),ce=t=>e.createElement("div",m({style:{display:"inline-block",width:g.spacingSmall}},t)),ie=({webhooks:t,setSelectedRow:o})=>e.createElement(s,{scrollable:!0},e.createElement(s.Head,null,e.createElement(s.Row,null,e.createElement(s.Header,{role:"columnheader",scope:"col",sticky:!0},"Id"),e.createElement(s.Header,{role:"columnheader",scope:"col",sticky:!0},"Path"),e.createElement(s.Header,{style:h,role:"columnheader",scope:"col",sticky:!0},"Body"),e.createElement(s.Header,{style:h,role:"columnheader",scope:"col",sticky:!0},"Headers"))),e.createElement(s.Body,null,t&&t.map((r,n)=>e.createElement(s.Row,{key:n,onClick:()=>{o(n)}},e.createElement(s.Header,{role:"rowheader",scope:"row"},e.createElement(se,null,e.createElement(z,{alt:"avatar",name:`${r.id}`,size:"xSmall"}),e.createElement(ce,null),e.createElement("span",null,r.id))),e.createElement(s.Cell,null,r.path),e.createElement(s.Cell,{style:h},r.body),e.createElement(s.Cell,{style:h},r.headers))))),ue=({webhooks:t})=>{const{value:o}=i.exports.useContext(f),r=l=>ne(o,l),[n,a]=i.exports.useState(0);return e.createElement(p,{aside:e.createElement(p.Aside,null,e.createElement(le,{webhook:t[n],forwardWebhookToLocalhost:r})),asidePosition:p.asidePositions.last,main:e.createElement(p.Main,null,e.createElement("div",{style:{height:"calc(100vh - 48px)"}},e.createElement(ie,{webhooks:t,setSelectedRow:a})))})},de=v`
  query Webhooks {
    webhooks {
      id
      path
      body
      headers
    }
  }
`,me=v`
  subscription WebhookAdded {
    webhookAdded {
      id
      path
      body
      headers
    }
  }
`,pe=()=>{const{data:t,subscribeToMore:o}=V(de);i.exports.useEffect(()=>{const n=o({document:me,updateQuery:(a,{subscriptionData:l})=>{if(!l.data)return a;const c=l.data.webhookAdded;return Object.assign({},a,{webhooks:[c,...a.webhooks]})}});return()=>{n()}},[]);const r=i.exports.useMemo(()=>{var n;return(n=t==null?void 0:t.webhooks)==null?void 0:n.slice().sort((a,l)=>Number(l.id)-Number(a.id))},[t]);return r&&r.length>0?e.createElement(ue,{webhooks:r}):e.createElement(ae,null)},he=t=>{const r=`${new URL(t).origin}/graphql`,n=r.replace("http","ws"),a=new q({uri:r}),l=new G(Q({url:n})),c=_(({query:C})=>{const k=j(C);return k.kind==="OperationDefinition"&&k.operation==="subscription"},l,a);return new F({link:c,cache:new $})};function Ee(){const[t,o]=i.exports.useState("http://localhost:8010/proxy"),r=localStorage.getItem("webhookStoreUrl")||"https://webhook-store.herokuapp.com",[n,a]=i.exports.useState(r),l=c=>{localStorage.setItem("webhookStoreUrl",c),a(c)};return e.createElement(W.Provider,{value:{value:n,setValue:l}},e.createElement(D,{client:he(n)},e.createElement(x,{name:x.names.dark},e.createElement(f.Provider,{value:{value:t,setValue:o}},e.createElement(J,{topnav:()=>e.createElement(oe,null)},e.createElement("div",{style:{background:K}},e.createElement(pe,null)))))))}const ye=Z.createRoot(document.getElementById("root"));ye.render(e.createElement(e.StrictMode,null,e.createElement(Ee,null)));
